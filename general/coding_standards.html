<!doctype html>
<html lang="ja">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="./../assets/css/combined.css">
	<script src="http://www.google.com/jsapi" type="text/javascript"></script>
	<script type="text/javascript">
		var path = './../';
	</script>
	<script src="./../assets/js/combined.js"></script>
	<title>Coding Standards - General - FuelPHP Documentation</title>
</head>
<body>
	<div id="container">
		<header id="header">
			<div class="table">
				<h1>
					<strong>FuelPHP, a PHP 5.3 Framework</strong>
					Documentation
				</h1>

				<form id="google_search">
					<p>
						<span id="search_clear">&nbsp;</span>
						<input type="submit" name="search_submit" id="search_submit" value="search" />
						<input type="text" value="" id="search_input" name="search_input" />
					</p>
				</form>
			</div>
			<nav>

				<div class="clear"></div>
			</nav>
			<a href="#" id="toc_handle">table of contents</a>
			<div class="clear"></div>
		</header>

		<div id="cse">
			<div id="cse_point"></div>
			<div id="cse_content"></div>
		</div>

		<div id="main">

			<h2>コーディング基準</h2>

			<p>コードフォーマッティングおよびドキュメントについてのこれらの基準は、Fuel に貢献する全ての人が従うべきです。
				これらのガイドラインを満たさないものは、受け入れられません。</p>

			<h3 id="file_formatting">ファイルフォーマット</h3>

			<h5 id="closing_php_tag">閉じ PHP タグ</h5>

			<p>PHP コードのみを含むファイルは、閉じ PHP タグ (?>) を省略すべきです。
				つかみ所の無い、画面真っ白の多くを防ぎます。</p>

			<h5 id="indentation">インデント</h5>

			<p>インデントにはタブを使います。空白は使いません。<br />
				しかし、インデントした後の要素を整列するときは、空白を使います。タブは使いません。</p>

			<pre class="php"><code>		// indented 2 tabs
		$var       = 'something';  // indented with tabs and aligned value &amp; comments
		$variable  = 'else';       // with those above/below using spaces</code></pre>

			<h5 id="line_endings">行末</h5>

			<p>行末は、Unix スタイルの LF にすべきです。</p>

			<h5 id="file_naming">ファイルの命名</h5>

			<p>ファイル名は全て小文字でなければなりません。例外はありません。</p>

			<h5 id="encoding">文字エンコーディング</h5>

			<p>ファイルは、文字コード UTF-8、BOM 無にすべきです。</p>

			<h3 id="naming_conventions">命名規則</h3>

			<h5 id="namespaces">名前空間</h5>

			<p>コアファイルは全て Fuel\Core 名前空間に置かなければなりません。</p>

			<pre class="php"><code>namespace Fuel\Core;</code></pre>

			<h5 id="classes">クラス</h5>

			<p>クラス名は、各単語をアンダースコアで区切り、単語の先頭は大文字にすべきです。
				アンダースコアは、オートロード時にディレクトリセパレータに変換されます。The
				キャメルケースの使用は推奨されませんが、禁止されてはいません。
				キャメルを使うのは、例えば、サブディレクトリにクラスを置くのが意味をなさない場合、等です。</p>

			<pre class="php"><code>namespace Fuel\Core;

class Session
{

}</code></pre>

			<pre class="php"><code>namespace Fuel\Core;

class Session_Cookie extends Session_Driver
{

}</code></pre>

			<p>これは、次のようなファイルパスになります。</p>

			<pre class="php"><code>core/classes/session.php
core/classes/session/cookie.php</code></pre>

			<h5 id="methods">メソッド</h5>

			<p>クラス名と同じように、メソッド名は各単語をアンダースコアで区切ります。キャメルケースは使いません。
				メソッド名は全て小文字にすべきです。アクセス権 (public, protected, private) は必ず含めてください。<br />
				名前の先頭にアンダースコアを付けることができます。メソッドが protected/private であることを明確にしたい場合や、
				public にする必要があるが、protected/private とみなして欲しい時など、です。</p>

			<pre class="php"><code>class Session
{

	public static function get_flash($name, $data)
	{
		// Some code here
	}

}</code></pre>

			<pre class="php"><code>class View
{

	// Array of global view data
	protected static $_global_data = array();

	protected static function capture($view_filename, array $view_data)
	{
		// Some code here
	}

}</code></pre>

			<h5 id="variables">変数</h5>

			<p>変数名は、簡潔かつ、小文字とアンダースコアのみにすべきです。
				ループイテレータは短くすべきで、一文字が好ましいです。</p>

			<pre class="php"><code>$first_name
$buffer
for ($i = 0; $i &lt; $max; $i++)</code></pre>

			<h5 id="constants">定数</h5>

			<p>定数は、変数と同様のガイドラインに従いますが、定数は全て大文字にすべきです。
				</p>

			<pre class="php"><code>MY_CONSTANT
TEMPLATE_PATH
TEXT_DEFAULT</code></pre>

			<h3 id="keywords">キーワード</h3>

			<p><kbd>true</kbd>, <kbd>false</kbd>, <kbd>null</kbd>, <kbd>as</kbd>, 等のキーワードは、全て小文字にすべきです。大文字は定数のために予約されています。
				<kbd>array</kbd>, <kbd>integer</kbd>, <kbd>string</kbd> 等の基本型も同様です。</p>

			<pre class="php"><code>$var = true;
$var = false;
$var = null;
foreach ($array as $key => $value)
public function my_function(array $array)
function my_function($arg = null)</code></pre>

			<h3 id="control_structures">制御構造</h3>

			<p><kbd>if</kbd>, <kbd>for</kbd>, <kbd>foreach</kbd>, <kbd>while</kbd>, <kbd>switch</kbd> 等の構造キーワードの後には空白を含めるべきです。パラメータ/引数のリストと値も同じです。
				括弧は新しい行に記述します。<kbd>break</kbd> は、case と同じ
				タブにすべきです。</p>

			<pre class="php"><code>if ($arg === true)
{
	//do something here
}
elseif ($arg === null)
{
	//do something else here
}
else
{
	//catch all do something here
}
foreach ($array as $key => $value)
{
	//loop here
}
for ($i = 0; $i < $max; $i++)
{
	//loop here
}
while ($i < $max)
{
	//loop here
}
switch ($var)
{
	case 'value1':
		//do something here
	break;
	default :
		//do something here
	break;
}</code></pre>

			<h5 id="alternative_if">Alternative if statements</h5>

			<p>単純な割り当てや関数読み込み等、完全な <kbd>if</kbd> 文が大げさな場合があるでしょう。
				そのような場合、簡潔なブール演算構文を使用する PHP 実行ロジックを用いることができます。
				<kbd>and</kbd> を使うと、前半が true の時のみ後半が評価されます。
				<kbd>or</kbd> を使うと、前半が false の時のみ後半が評価されます。<br />
				<kbd>if</kbd> と <kbd>else</kbd> の両方が必要な時は、この記法を使ってはいけません。単一の条件文の時のみ使ってください。</p>

			<pre class="php"><code>// instead of if (isset($var)) { Config::set('var', $var); }
isset($var) and Config::set('var', $var);

// instead of if ( ! isset($var)) { $var = Config::get('var'); }
isset($var) or $var = Config::get('var');

// DON'T DO THIS
Uri::segment(3) and $var = Uri::segment(3);
Uri::segment(3) or $var = 'default';

// This is better:
if (Uri::segment(3))
{
	$var = Uri::segment(3);
}
else
{
	$var = 'default';
}

// Or this:
$var = Uri::segment(3) ? Uri::segment(3) : 'default';
// Or actually this:
$var = Uri::segment(3) ?: 'default';</code></pre>

			<h3 id="comparison_logical">比較、論理演算子</h3>

			<p>関数/メソッドの戻り値と値の比較は、型を意識すべきです。
				例えばある関数が <kbd>false</kbd> を返し得る場合、戻り値を比較する場合は型を意識するオペレータ、<kbd>===</kbd> や <kbd>!==</kbd> を使用します。
				さらに、読みやすさの観点から、<kbd>and</kbd> や <kbd>or</kbd> の使用が好ましいです。<kbd>&&</kbd> や <kbd>||</kbd> は好ましくありませんが、
				<kbd>&&</kbd> や <kbd>||</kbd> の使用が必須となる場合があります。<kbd>!</kbd> を使用するときは、両側に空白を置いてください。</p>

			<pre class="php"><code>if ($var == false and $other_var != 'some_value')
if ($var === false or my_function() !== false)
if ( ! $var)</code></pre>

			<h5 id="class_interface">クラス/インターフェース宣言</h5>

			<p>クラス/インターフェース宣言は、開き括弧を次の行に置きます。</p>

			<pre class="php"><code>class Session
{

}</code></pre>

			<h5 id="function_method">関数/メソッド宣言</h5>

			<p>関数/メソッド宣言は、開き括弧を次の行に置き、
				構造と同じインデントにします。</p>

			<pre class="php"><code>class Session
{

	public static function get_flash($name, $data)
	{
		// Some code here
	}

}</code></pre>

			<h5 id="variables">変数</h5>

			<p>変数を初期化するとき、一行に一つの変数にすべきです。コードを読みやすくするため、
				行を分けるべきです。必要なら値をコメントを整列します。</p>

			<pre class="php"><code>$var        = ''; // do each on its own line
$other_var  = ''; // do each on its own line</code></pre>

			<h5 id="brackets_parenthesis">Brackets and Parenthesis</h5>

			<p>No space should come before or after the initial bracket/parenthesis. There should not be a space before closing bracket/parenthesis.</p>

			<pre class="php"><code>$array = array(1, 2, 3, 4);
$array['my_index'] = 'something';
for ($i = 0; $i < $max; $i++)</code></pre>

			<h5 id="quotation">文字クォーテーション</h5>

			<p>ダブルクォートよ、シングルクォートがり好ましいです。</p>

			<h5 id="concatenation">連結</h5>

			<p>文字列連結は、連結されるパーツの間に空白を置かないでください。</p>

			<pre class="php"><code>//yes
$string = 'my string '.$var.' the rest of my string';

//no
$string = 'my string ' . $var . ' the rest of my string';</code></pre>

			<h5 id="operators">オペレータ</h5>

			<pre class="php"><code>$var = 'something';
if ($var == 'something') //space before and after logical operator
$var = $some_var + $other_var; //space before and after math operator
$var++; // no space before increment
++$var; //no space after increment</code></pre>

		</div>

		<footer>
			<p>
				&copy; FuelPHP Development Team 2010-2011 - <a href="http://fuelphp.com">FuelPHP</a> is released under the MIT license.
			</p>
		</footer>
	</div>
</body>
</html>
