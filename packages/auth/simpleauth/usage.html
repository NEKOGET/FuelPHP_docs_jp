<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="./../../../assets/css/combined.css">
	<link rel="shortcut icon" href="./../../../favicon.ico" />
	<script src="http://www.google.com/jsapi" type="text/javascript"></script>
	<script type="text/javascript">
		var path = './../../../';
		var class_prefix = "$object->";
	</script>
	<script src="./../../../assets/js/combined.js"></script>
	<title>Usage - SimpleAuth - Auth パッケージ - FuelPHP ドキュメント</title>
</head>
<body>
	<div id="container">
		<header id="header">
			<div class="table">
				<h1>
					<strong>FuelPHP, a PHP 5.3 Framework</strong>
					Documentation
				</h1>

				<form id="google_search">
					<p>
						<span id="search_clear">&nbsp;</span>
						<input type="submit" name="search_submit" id="search_submit" value="検索" />
						<input type="text" value="" id="search_input" name="search_input" />
					</p>
				</form>
			</div>
			<nav>

				<div class="clear"></div>
			</nav>
			<a href="#" id="toc_handle">目次</a>
			<div class="clear"></div>
		</header>

		<div id="cse">
			<div id="cse_point"></div>
			<div id="cse_content"></div>
		</div>

		<div id="main">
			<h2 id="usage">SimpleAuth の使用方法</h2>

			<p>
				Auth パッケージの <a href="../intro.html">はじめに</a> で述べたとおり、認証システムは 3 つのドライバで成り立っており、
				それぞれがシステムの一部として機能します：
			</p>
			<p>
				Simpleauth <kbd>Login</kbd> ドライバは、ローカルのデータベーステーブルに保存するユーザアカウントの、
				生成・更新・削除・検証のロジックを提供します。ユーザアカウントの情報を得たり、パスワードの作成やリセット、
				ログインやログアウト（ユーザセッションの作成）を扱うためのものです。
			</p>

			<p>
				SimpleAuth  <kbd>グループ</kbd>  ドライバは、グループ定義情報を simpleauth の設定ファイルに保持しています。
				これは、ユーザーがグループのメンバーであるかどうかやグループそのものの情報、またグループに定義されているロールを取得するためのロジックを提供します。
			</p>

			<p>
				SimpleAuth  <kbd>ACL</kbd>  ドライバはロール(役割)駆動型であり、ACL 定義情報を simpleauth の設定ファイルに保持しています。
				これは、あるユーザがその名前のロールにアクセス可能かどうかというロジックを提供します。
			</p>

			<h3 id="classmethods">静的 vs 動的</h3>

			<p>はじめにで説明したように、Auth パッケージを使用すると、単一のドライバセットを提供し、利用可能な方法のほとんどに静的なインタフェースを提供します。
			これらのメソッドは、"Static: Yes" として以下に定義されます。
			静的としてマークされてものを含むすべてのメソッドは Auth インスタンスオブジェクト上のチェーンを介してアクセス可能です。</p>

			<h3 id="classmethods">クラスメソッド</h3>

				<article>
					<h4 id="method_validate_user" class="method">validate_user($username_or_email = '', $password = '')</h4>
					<p><strong>validate_user</strong> メソッドはユーザーの資格情報を検証します。このメソッドでは、有効な資格情報としてメールアドレスとユーザー名の両方をサポートしています。</p>
					<table class="method">
						<tbody>
						<tr>
							<th class="legend">静的</th>
							<td>はい</td>
						</tr>
						<tr>
							<th>パラメータ</th>
							<td>
								<table class="parameters">
									<tr>
										<th>パラメータ</th>
										<th>デフォルト</th>
										<th class="description">説明</th>
									</tr>
									<tr>
										<th><kbd>$username_or_email</kbd></th>
										<td><pre class="php"><code>''</code></pre></td>
										<td>ユーザーのユーザー名またはメールアドレスのいずれか</td>
									</tr>
									<tr>
										<th><kbd>$password</kbd></th>
										<td><pre class="php"><code>''</code></pre></td>
										<td>ユーザのパスワード</td>
									</tr>
								</table>
							</td>
						</tr>
						<tr>
							<th>返り値</th>
							<td>mixed 。認証に失敗すれば <strong>false</strong> を、成功した場合はユーザ情報の<strong>配列</strong>を返す。</td>
						</tr>
						<tr>
							<th>例</th>
							<td>
								<pre class="php"><code>// validate the a username and password
if ($user = Auth::validate_user($name, $pass))
{
	// the combination of $name and $pass validated, print the users screen name
	echo $user['username'];
}
</code></pre>
							</td>
						</tr>
						</tbody>
					</table>
					<p class="note">This method only validates if a given combination of username and password is correct. It does NOT log the user in!</p>
				</article>

				<article>
					<h4 id="method_login" class="method">login($username_or_email = '', $password = '')</h4>
					<p><strong>login</strong> メソッドはログインリクエストを扱います。
					パラメータが指定されていない場合は、simpleauth.php 設定ファイルに設定されたフォームのフィールド名を使用しポストされたデータから取得します。
					ログインする前に内部で validate_user() を呼び出し、リクエストを検証します。</p>
					<table class="method">
						<tbody>
						<tr>
							<th class="legend">静的</th>
							<td>はい</td>
						</tr>
						<tr>
							<th>パラメータ</th>
							<td>
								<table class="parameters">
									<tr>
										<th>パラメータ</th>
										<th>デフォルト</th>
										<th class="description">説明</th>
									</tr>
									<tr>
										<th><kbd>$username_or_email</kbd></th>
										<td><pre class="php"><code>''</code></pre></td>
										<td>ユーザーのユーザー名またはメールアドレスのいずれか</td>
									</tr>
									<tr>
										<th><kbd>$password</kbd></th>
										<td><pre class="php"><code>''</code></pre></td>
										<td>ユーザのパスワード</td>
									</tr>
								</table>
							</td>
						</tr>
						<tr>
							<th>返り値</th>
							<td>論理型。ログインに成功すれば <strong>true</strong> を、そうでなければ <strong>false</strong> を返す。</td>
						</tr>
						<tr>
							<th>例</th>
							<td>
								<pre class="php"><code>// perform a login
if (Auth::login($name, $pass))
{
	// the user is succesfully logged in
}
</code></pre>
							</td>
						</tr>
						</tbody>
					</table>
					<p class="note">ログイン成功後、 'username' と現在の 'login_hash' が、セッション変数として利用できます。</p>
				</article>

				<article>
					<h4 id="method_force_login" class="method">force_login($user_id = '')</h4>
					<p>
						<strong>force_login</strong> メソッドは強制的なログインリクエストを扱います。ユーザ id
						が手元にありパスワードがわかっていないときに自動ログインさせるために利用できます。これは、例えば「ログイン状態を保持する」機能を実装するために利用できます。</p>
					<table class="method">
						<tbody>
						<tr>
							<th class="legend">静的</th>
							<td>はい</td>
						</tr>
						<tr>
							<th>パラメータ</th>
							<td>
								<table class="parameters">
									<tr>
										<th>パラメータ</th>
										<th>デフォルト</th>
										<th class="description">説明</th>
									</tr>
									<tr>
										<th><kbd>$user_id</kbd></th>
										<td>required</td>
										<td>ログインさせたいユーザの id</td>
									</tr>
								</table>
							</td>
						</tr>
						<tr>
							<th>返り値</th>
							<td>論理型。ログインに成功すれば <strong>true</strong> を、そうでなければ <strong>false</strong> を返す。</td>
						</tr>
						<tr>
							<th>例</th>
							<td>
								<pre class="php"><code>// perform a forced login for user 12121
if (Auth::force_login(12121))
{
	// the user is succesfully logged in. Any previously logged-in user will be logged out!
}
</code></pre>
							</td>
						</tr>
						</tbody>
					</table>
				</article>

				<article>
					<h4 id="method_logout" class="method">logout()</h4>
					<p><strong>logout</strong> メソッドは現在ログイン中のユーザをログアウトさせます。</p>
					<table class="method">
						<tbody>
						<tr>
							<th class="legend">静的</th>
							<td>はい</td>
						</tr>
						<tr>
							<th>パラメータ</th>
							<td>
								None
							</td>
						</tr>
						<tr>
							<th>返り値</th>
							<td>論理型。ログアウトが成功し場合、 <strong>true</strong> を、そうでなければ <strong>false</strong> を返す。</td>
						</tr>
						<tr>
							<th>例</th>
							<td>
								<pre class="php"><code>// perform a logout
Auth::logout();
</code></pre>
							</td>
						</tr>
						</tbody>
					</table>
					<p class="note">ゲストユーザをサポートする場合は、ログアウト成功後に現在のユーザとしてゲストをセットアップします。</p>
				</article>

				<article>
					<h4 id="method_create_user" class="method">create_user($username, $password, $email, $group = 1, Array $profile_fields = array())</h4>
					<p>
						<strong>create_user</strong> メソッドは、ユーザ情報テーブルに新しいユーザレコードを作成します。
					</p>
					<table class="method">
						<tbody>
						<tr>
							<th class="legend">静的</th>
							<td>はい</td>
						</tr>
						<tr>
							<th>パラメータ</th>
							<td>
								<table class="parameters">
									<tr>
										<th>パラメータ</th>
										<th>デフォルト</th>
										<th class="description">説明</th>
									</tr>
									<tr>
										<th><kbd>$username</kbd></th>
										<td>required</td>
										<td>作成したいユーザー名</td>
									</tr>
									<tr>
										<th><kbd>$password</kbd></th>
										<td>required</td>
										<td>ユーザーに割り当てるパスワード</td>
									</tr>
									<tr>
										<th><kbd>$email</kbd></th>
										<td>required</td>
										<td>作成するユーザの電子メールアドレス</td>
									</tr>
									<tr>
										<th><kbd>$group</kbd></th>
										<td>1</td>
										<td>このユーザーを割り当てるグループ。デフォルトではユーザーはグループ 1 に割り当てられます。</td>
									</tr>
									<tr>
										<th><kbd>$profile_fields</kbd></th>
										<td><pre class="php"><code>array()</code></pre></td>
										<td>このユーザに割り当てる任意の追加プロフィールフィールドもしくはユーザメタデータ</td>
									</tr>
								</table>
							</td>
						</tr>
						<tr>
							<th>例外</th>
							<td>SimpleUserUpdateException</td>
						</tr>
						<tr>
							<th>返り値</th>
							<td>mixed 。作成されたユーザレコードの id を返す。作成に失敗した場合は <strong>false</strong> を返す。</td>
						</tr>
						<tr>
							<th>例</th>
							<td>
								<pre class="php"><code>// create a new user
Auth::create_user(
	'anewuser',
	'thisismysecretpassword',
	'anewuser@example.org',
	1,
	array(
		'fullname' => 'A. New User',
	)
);
</code></pre>
							</td>
						</tr>
						</tbody>
					</table>
				</article>

				<article>
					<h4 id="method_update_user" class="method">update_user($values, $username = null)</h4>
					<p>
						<strong>update_user</strong> メソッドを使用すると、指名されたユーザー、もしくは、
						現在ログインしているユーザー、どちらかのユーザレコードを更新することができます。
					</p>
					<table class="method">
						<tbody>
						<tr>
							<th class="legend">静的</th>
							<td>はい</td>
						</tr>
						<tr>
							<th>パラメータ</th>
							<td>
								<table class="parameters">
									<tr>
										<th>パラメータ</th>
										<th>デフォルト</th>
										<th class="description">説明</th>
									</tr>
									<tr>
										<th><kbd>$values</kbd></th>
										<td><pre class="php"><code>array()</code></pre></td>
										<td>カラム名と値がペアになった連想配列、もしくは更新したいプロフィールフィールド</td>
									</tr>
									<tr>
										<th><kbd>$username</kbd></th>
										<td><pre class="php"><code>null</code></pre></td>
										<td>更新したいユーザのユーザ名</td>
									</tr>
								</table>
							</td>
						</tr>
						<tr>
							<th>例外</th>
							<td>SimpleUserUpdateException</td>
						</tr>
						<tr>
							<th>返り値</th>
							<td>論理型。カラムが更新されれば <strong>true</strong> を、どのカラムも変更がなければ <strong>false</strong> を返す。</td>
						</tr>
						<tr>
							<th>例</th>
							<td>
								<pre class="php"><code>// update the data for the current user
Auth::update_user(
	array(
		'email'        => 'anewemail@example.org',  // set a new email address
		'password'     => 'thisismynewpassword',    // set a new password
		'old_password' => 'thisismysecretpassword', // to do so, give the current one!
		'phone'        => '+1 (555) 123-1212',	    // and add the phone number to the metadata
	)
);
</code></pre>
							</td>
						</tr>
						</tbody>
					</table>
					<p class="note">
						This method is primary provided to allow the user to do profile updates. And as a security measure, it will <strong>not</strong> allow you
						to change the username, and if you want to change the password, you <strong>have</strong> to pass the current password in $values as "old_password".
					</p>
				</article>

				<article>
					<h4 id="method_change_password" class="method">change_password($old_password, $new_password, $username = null)</h4>
					<p>
						<strong>change_password</strong> は、ユーザパスワードの変更ができます。
					</p>
					<table class="method">
						<tbody>
						<tr>
							<th class="legend">静的</th>
							<td>はい</td>
						</tr>
						<tr>
							<th>パラメータ</th>
							<td>
								<table class="parameters">
									<tr>
										<th>パラメータ</th>
										<th>デフォルト</th>
										<th class="description">説明</th>
									</tr>
									<tr>
										<th><kbd>$old_password</kbd></th>
										<td>required</td>
										<td>ユーザの現在のパスワード</td>
									</tr>
									<tr>
										<th><kbd>$new_password</kbd></th>
										<td>required</td>
										<td>ユーザの新しいパスワード</td>
									</tr>
									<tr>
										<th><kbd>$username</kbd></th>
										<td><pre class="php"><code>null</code></pre></td>
										<td>パスワードを変更したいユーザのユーザ名</td>
									</tr>
								</table>
							</td>
						</tr>
						<tr>
							<th>例外</th>
							<td>SimpleUserUpdateException</td>
						</tr>
						<tr>
							<th>返り値</th>
							<td>論理型。パスワードが変更されれば <strong>true</strong> を、 $old_password が正しくなければ <strong>false</strong> を返す。</td>
						</tr>
						<tr>
							<th>例</th>
							<td>
								<pre class="php"><code>// reset the password for the current user
Auth::change_password('thisismynewpassword','thisismysecretpassword');
</code></pre>
							</td>
						</tr>
						</tbody>
					</table>
					<p class="note">
						This method is provided to allow the user to change his password. And as a security measure, you <strong>have</strong> to
						pass the current password in "old_password".
					</p>
				</article>

				<article>
					<h4 id="method_reset_password" class="method">reset_password($username)</h4>
					<p>
						<strong>reset_password</strong> メソッドは、ユーザに新しいランダムなパスワードを割り当てます。
					</p>
					<table class="method">
						<tbody>
						<tr>
							<th class="legend">静的</th>
							<td>はい</td>
						</tr>
						<tr>
							<th>パラメータ</th>
							<td>
								<table class="parameters">
									<tr>
										<th>パラメータ</th>
										<th>デフォルト</th>
										<th class="description">説明</th>
									</tr>
									<tr>
										<th><kbd>$username</kbd></th>
										<td>required</td>
										<td>パスワードをリセットしたいユーザのユーザ名</td>
									</tr>
								</table>
							</td>
						</tr>
						<tr>
							<th>例外</th>
							<td>SimpleUserUpdateException</td>
						</tr>
						<tr>
							<th>返り値</th>
							<td>文字列、生成されたランダムなパスワード。</td>
						</tr>
						<tr>
							<th>例</th>
							<td>
								<pre class="php"><code>// reset the password for the current user
$new_password = Auth::reset_password('thisusername');
</code></pre>
							</td>
						</tr>
						</tbody>
					</table>
				</article>

				<article>
					<h4 id="method_delete_user" class="method">delete_user($username)</h4>
					<p>
						<strong>delete_user</strong> メソッドは、ユーザアカウントを削除します。
					</p>
					<table class="method">
						<tbody>
						<tr>
							<th class="legend">静的</th>
							<td>はい</td>
						</tr>
						<tr>
							<th>パラメータ</th>
							<td>
								<table class="parameters">
									<tr>
										<th>パラメータ</th>
										<th>デフォルト</th>
										<th class="description">説明</th>
									</tr>
									<tr>
										<th><kbd>$username</kbd></th>
										<td>required</td>
										<td>削除したいユーザのユーザ名</td>
									</tr>
								</table>
							</td>
						</tr>
						<tr>
							<th>例外</th>
							<td>SimpleUserUpdateException</td>
						</tr>
						<tr>
							<th>返り値</th>
							<td>論理型。ユーザアカウントが削除されれば <strong>true</strong> を、削除に失敗した場合(ユーザが存在しなかった場合)は <strong>false</strong> を返す。</td>
						</tr>
						<tr>
							<th>例</th>
							<td>
								<pre class="php"><code>// delete the user
Auth::delete_user('thisusername');
</code></pre>
							</td>
						</tr>
						</tbody>
					</table>
				</article>

				<article>
					<h4 id="method_create_login_hash" class="method">create_login_hash()</h4>
					<p><strong>create_login_hash</strong> メソッドは、現在ログイン中のユーザのログインハッシュを生成します。</p>
					<table class="method">
						<tbody>
						<tr>
							<th class="legend">静的</th>
							<td>はい</td>
						</tr>
						<tr>
							<th>パラメータ</th>
							<td>
								None
							</td>
						</tr>
						<tr>
							<th>返り値</th>
							<td>文字列、生成されたログインハッシュ。</td>
						</tr>
						<tr>
							<th>例</th>
							<td>
								<pre class="php"><code>// generate a new random hash
Auth::create_login_hash();
</code></pre>
							</td>
						</tr>
						</tbody>
					</table>
					<p class="note">This method is normally used when a user logs in, but you can use this as an extra security measure by rotating
					the hash regularly for logged-in users.</p>
					<p class="note">Note that login hash protection is <kbd>not</kbd> used when multiple logins is enabled!</p>
				</article>

				<article>
					<h4 id="method_get" class="method">get($field, $default = null)</h4>
					<p>The <strong>get</strong> method is a generic getter for user properties, either from the user record, or from the metadata.</p>
					<table class="method">
						<tbody>
						<tr>
							<th class="legend">静的</th>
							<td>はい</td>
						</tr>
						<tr>
							<th>パラメータ</th>
							<td>
								<table class="parameters">
									<tr>
										<th>パラメータ</th>
										<th>デフォルト</th>
										<th class="description">説明</th>
									</tr>
									<tr>
										<th><kbd>$field</kbd></th>
										<td>required</td>
										<td>The name of the property you want the value of</td>
									</tr>
									<tr>
										<th><kbd>$default</kbd></th>
										<td><pre class="php"><code>null</code></pre></td>
										<td>The value to return is the property is not set</td>
									</tr>
								</table>
							</td>
						</tr>
						<tr>
							<th>返り値</th>
							<td>mixed.</td>
						</tr>
						<tr>
							<th>例</th>
							<td>
								<pre class="php"><code>// get the user creation date
$created_at = Auth::get('created_at');
</code></pre>
							</td>
						</tr>
						</tbody>
					</table>
				</article>

				<article>
					<h4 id="method_get_user_id" class="method">get_user_id()</h4>
					<p><strong>get_user_id</strong> メソッドは、ドライバの id 、現在ログイン中のユーザの id の配列を返します。
					the currently logged-in user. It uses this structure because you can have multiple login drivers active, each can have
					a different id for the currently logged-in user.</p>
					<table class="method">
						<tbody>
						<tr>
							<th class="legend">静的</th>
							<td>はい</td>
						</tr>
						<tr>
							<th>パラメータ</th>
							<td>
								None
							</td>
						</tr>
						<tr>
							<th>返り値</th>
							<td>mixed 。ユーザがログイン中なら、 <strong>array([0]=>driver_id, [1]=>user_id)</strong> 形式の数値配列を、そうでなければ <strong>false</strong> を返す。</td>
						</tr>
						<tr>
							<th>例</th>
							<td>
								<pre class="php"><code>// get all login id information
$id_info = Auth::get_user_id();

// print driver and id info
if ($id_info)
{
	foreach ($id_info as $info)
	{
		echo 'Driver: ',$info[0],' with ID ',$info[1],'&lt;br /&gt;';
	}
}
else
{
	echo 'Nobody is logged in!';
}

// if you only use one driver, you can also do
list($driver, $userid) = Auth::get_user_id();

// or this if you only need the userid
list(, $userid) = Auth::get_user_id();
</code></pre>
							</td>
						</tr>
						</tbody>
					</table>
					<p class="note">ゲストユーザをサポートしている場合、ゲストユーザのユーザ id が返るので <strong>false</strong> は返ることはありません。</p>
				</article>

				<article>
					<h4 id="method_get_groups" class="method">get_groups()</h4>
					<p><strong>get_groups</strong> メソッドは、ログイン中のユーザが所属するグループを返します。</p>
					<table class="method">
						<tbody>
						<tr>
							<th class="legend">静的</th>
							<td>はい</td>
						</tr>
						<tr>
							<th>パラメータ</th>
							<td>
								None
							</td>
						</tr>
						<tr>
							<th>返り値</th>
							<td>mixed 。ユーザがログイン中なら、 <strong>array(array(driver, group_id))</strong> 形式の配列を、そうでなければ <strong>false</strong> を返します。</td>
						</tr>
							<th>例</th>
							<td>
								<pre class="php"><code>// get all group id information
$id_info = Auth::get_groups();

// print driver and id info
if ($id_info)
{
	foreach ($id_info as $info)
	{
		echo 'Driver: ',$info[0],' with group ID ',$info[1],'&lt;br /&gt;';
	}
}
else
{
	echo 'Nobody is logged in!';
}

// if you only use one driver, you can also do
list($driver, $groupid) = Auth::get_groups();
</code></pre>
							</td>
						</tr>
						</tbody>
					</table>
					<p class="note">If guest user support is enabled, you will never get <strong>false</strong> returned, because the method will return the group information of the guest user.</p>
				</article>

				<article>
					<h4 id="method_get_email" class="method">get_email()</h4>
					<p><strong>get_email</strong> メソッドは、現在ログイン中のユーザに対応するメールアドレスを返します。</p>
					<table class="method">
						<tbody>
						<tr>
							<th class="legend">静的</th>
							<td>はい</td>
						</tr>
						<tr>
							<th>パラメータ</th>
							<td>
								None
							</td>
						</tr>
						<tr>
							<th>返り値</th>
							<td>mixed 。ユーザがログイン中ならメールアドレスを、ログイン中のユーザがいない場合は <strong>false</strong> を返す。</td>
						</tr>
						<tr>
							<th>例</th>
							<td>
								<pre class="php"><code>// get the current users email address
$email = Auth::get_email();

// note that there is a difference between false and empty:
if ($email === false)
{
	// nobody logged in
}
if (empty($email))
{
	// a user is logged in, but doesn't have an email address
}
</code></pre>
							</td>
						</tr>
						</tbody>
					</table>
					<p class="note">If guest user support is enabled, you will never get <strong>false</strong> returned, because the method will return the email address of the guest user.</p>
				</article>

				<article>
					<h4 id="method_get_screen_name" class="method">get_screen_name()</h4>
					<p><strong>get_screen_name</strong> メソッドは、現在ログイン中のユーザの表示名を返します。</p>
					<table class="method">
						<tbody>
						<tr>
							<th class="legend">静的</th>
							<td>はい</td>
						</tr>
						<tr>
							<th>パラメータ</th>
							<td>
								None
							</td>
						</tr>
						<tr>
							<th>返り値</th>
							<td>mixed 。表示名の文字列を返す。ログイン中のユーザがいなければ <strong>false</strong> を返す。</td>
						</tr>
						<tr>
							<th>例</th>
							<td>
								<pre class="php"><code>// get the current users screen name
$name = Auth::get_screen_name();

// name is required, so if not present it means nobody is logged in
if (empty($name))
{
	// nobody logged in
}
</code></pre>
							</td>
						</tr>
						</tbody>
					</table>
					<p class="note">If guest user support is enabled, you will never get <strong>false</strong> returned, because the method will return the user name of the guest user.</p>
				</article>

				<article>
					<h4 id="method_get_profile_fields" class="method">get_profile_fields($field = null, $default = null)</h4>
					<p><strong>get_profile_fields</strong> メソッドは、現在ログイン中のユーザの 1 つもしくは全てのプロフィールフィールドのを返します。</p>
					<table class="method">
						<tbody>
						<tr>
							<th class="legend">静的</th>
							<td>はい</td>
						</tr>
						<tr>
							<th>パラメータ</th>
							<td>
								<table class="parameters">
									<tr>
										<th>パラメータ</th>
										<th>デフォルト</th>
										<th class="description">説明</th>
									</tr>
									<tr>
										<th><kbd>$field</kbd></th>
										<td><pre class="php"><code>null</code></pre></td>
										<td>取得したいプロフィールフィールド名</td>
									</tr>
									<tr>
										<th><kbd>$default</kbd></th>
										<td><pre class="php"><code>null</code></pre></td>
										<td>取得したいプロフィールフィールドが存在しなかったときのデフォルト返り値</td>
									</tr>
								</table>
							</td>
						</tr>
						<tr>
							<th>返り値</th>
							<td>mixed</td>
						</tr>
						<tr>
							<th>例</th>
							<td>
								<pre class="php"><code>// get all profile fields defined
$profile = Auth::get_profile_fields();
</code></pre>
							</td>
						</tr>
						</tbody>
					</table>
				</article>

				<article>
					<h4 id="method_member" class="method">member($group, $user = null)</h4>
					<p>The <strong>member</strong> method allows you to check if a user is member of a given group.</p>
					<table class="method">
						<tbody>
						<tr>
							<th class="legend">静的</th>
							<td>はい</td>
						</tr>
						<tr>
							<th>パラメータ</th>
							<td>
								<table class="parameters">
									<tr>
										<th>パラメータ</th>
										<th>デフォルト</th>
										<th class="description">説明</th>
									</tr>
									<tr>
										<th><kbd>$group</kbd></th>
										<td>required</td>
										<td>The id of the group you want to check for membership</td>
									</tr>
									<tr>
										<th><kbd>$user</kbd></th>
										<td><pre class="php"><code>null</code></pre></td>
										<td>A specific user, identified by the result of get_user_id(), or <strong>null</strong> for the currently logged-in user.</td>
									</tr>
								</table>
							</td>
						</tr>
						<tr>
							<th>返り値</th>
							<td>boolean. <strong>true</strong> if the user is member of the group, or <strong>false</strong> if not.</td>
						</tr>
						<tr>
							<th>例</th>
							<td>
								<pre class="php"><code>// Check if the current user is an administrator
if (Auth::member(100))
{
	// we are in the administrator group!
}
</code></pre>
							</td>
						</tr>
						</tbody>
					</table>
				</article>

				<article>
					<h4 id="method_groups" class="method">groups($driver = null)</h4>
					<p>The <strong>groups</strong> method allows you to fetch all defined groups, or all defined groups in a specific driver.</p>
					<table class="method">
						<tbody>
						<tr>
							<th class="legend">静的</th>
							<td>はい</td>
						</tr>
						<tr>
							<th>パラメータ</th>
							<td>
								<table class="parameters">
									<tr>
										<th>パラメータ</th>
										<th>デフォルト</th>
										<th class="description">説明</th>
									</tr>
									<tr>
										<th><kbd>$driver</kbd></th>
										<td><pre class="php"><code>null</code></pre></td>
										<td>The name of the group driver you want to get groups of</td>
									</tr>
								</table>
							</td>
						</tr>
						<tr>
							<th>返り値</th>
							<td>array. If the group driver does not exist or no groups are defined, an empty array is returned.</td>
						</tr>
						<tr>
							<th>例</th>
							<td>
								<pre class="php"><code>// Get all defined groups (for all loaded group drivers)
$groups = Auth::groups();

// Get all the groups from the default group driver
$groups = Auth::group()->groups();

// Get all the groups from a specific driver
$groups = Auth::group('Simplegroup')->groups();
</code></pre>
							</td>
						</tr>
						</tbody>
					</table>
					<p class="note">You need to call this method on the Auth group drivers instance if you want groups defined by a specific driver.</p>
					<p class="note">If you use multiple drivers, this method only works reliably if the group id's are unique over <strong>all</strong> drivers!</p>
				</article>

				<article>
					<h4 id="method_roles" class="method">roles($driver = null)</h4>
					<p>The <strong>roles</strong> method allows you to fetch all defined roles, or all defined roles in a specific driver.</p>
					<table class="method">
						<tbody>
						<tr>
							<th class="legend">静的</th>
							<td>はい</td>
						</tr>
						<tr>
							<th>パラメータ</th>
							<td>
								<table class="parameters">
									<tr>
										<th>パラメータ</th>
										<th>デフォルト</th>
										<th class="description">説明</th>
									</tr>
									<tr>
										<th><kbd>$driver</kbd></th>
										<td><pre class="php"><code>null</code></pre></td>
										<td>The name of the group driver you want to get roles of</td>
									</tr>
								</table>
							</td>
						</tr>
						<tr>
							<th>返り値</th>
							<td>array. If the acl driver does not exist or no roles are defined, an empty array is returned.</td>
						</tr>
						<tr>
							<th>例</th>
							<td>
								<pre class="php"><code>// Get all defined roles (for all loaded acl drivers)
$roles = Auth::roles();

// Get all the roles from the default acl driver
$roles = Auth::acl()->roles();

// Get all the roles from a specific driver
$roles = Auth::acl('Simpleacl')->roles();
</code></pre>
							</td>
						</tr>
						</tbody>
					</table>
					<p class="note">You need to call this method on the Auth acl drivers instance if you want groups defined by a specific driver.</p>
					<p class="note">If you use multiple drivers, this method only works reliably if the role id's are unique over <strong>all</strong> drivers!</p>
				</article>

				<article>
					<h4 id="method_get_name" class="method">get_name($group = null)</h4>
					<p>The <strong>get_name</strong> method allows you to fetch the name of a specific group. If no group is given, it will return the name
					of the group of the current logged-in user.</p>
					<table class="method">
						<tbody>
						<tr>
							<th class="legend">静的</th>
							<td>いいえ</td>
						</tr>
						<tr>
							<th>パラメータ</th>
							<td>
								<table class="parameters">
									<tr>
										<th>パラメータ</th>
										<th>デフォルト</th>
										<th class="description">説明</th>
									</tr>
									<tr>
										<th><kbd>$group</kbd></th>
										<td><pre class="php"><code>null</code></pre></td>
										<td>The id of the group you want to get the name of</td>
									</tr>
								</table>
							</td>
						</tr>
						<tr>
							<th>返り値</th>
							<td>mixed. The name of the group, or <kbd>null</kbd> if a group with the given id does not exist.</td>
						</tr>
						<tr>
							<th>例</th>
							<td>
								<pre class="php"><code>// Get all the name for the group of the current logged-in user
$name = Auth::group()->get_name();

// Get the name of a specific group from a specific driver
$name = Auth::group('Simplegroup')->get_name(100);	// returns 'Administrators'
</code></pre>
							</td>
						</tr>
						</tbody>
					</table>
					<p class="note">If you use multiple drivers, this method only works reliably if the group id's are unique over <strong>all</strong> drivers!</p>
				</article>

				<article>
					<h4 id="method_has_access" class="method">has_access($condition)</h4>
					<p>The <strong>has_access</strong> method allows you to check if the current logged-in user has access to a specific location with specific rights.</p>
					<table class="method">
						<tbody>
						<tr>
							<th class="legend">静的</th>
							<td>はい</td>
						</tr>
						<tr>
							<th>パラメータ</th>
							<td>
								<table class="parameters">
									<tr>
										<th>パラメータ</th>
										<th>デフォルト</th>
										<th class="description">説明</th>
									</tr>
									<tr>
										<th><kbd>$condition</kbd></th>
										<td>required</td>
										<td>The access condition you want to check</td>
									</tr>
								</table>
							</td>
						</tr>
						<tr>
							<th>返り値</th>
							<td>boolean. <strong>true</strong> if the user has access, or <strong>false</strong> if not.</td>
						</tr>
						<tr>
							<th>例</th>
							<td>
								<pre class="php"><code>// check if the user has access to read blog posts
if (Auth::has_access('blog.read'))
{
	// yes, the user has access
}

// if you have multiple login instances, use the instance to call this method.
// you can also check for multiple rights in one go
if (Auth::instance('simpleauth')->has_access('blog.[read,write,delete]'))
{
	// yes, the user has access and may read, write and delete
}

// you can also specify the rights to check as an array
if (Auth::has_access(array('blog' => array('read'), 'comments' => array('read')))
{
	// yes, the user has access to read blogs and comments
}

// if you have multiple login instances, you can also pick a specific ACL driver
if (Auth::acl('simpleacl')->has_access('blog.[read,write,delete]'))
{
	// yes, the user has access and may read, write and delete
}
</code></pre>
							</td>
						</tr>
						</tbody>
					</table>
				</article>

				<article>
					<h4 id="method_guest_login" class="method">guest_login()</h4>
					<p><strong>guest_login</strong> メソッドは、ゲストログインが可能か確認します。</p>
					<table class="method">
						<tbody>
						<tr>
							<th class="legend">静的</th>
							<td>はい</td>
						</tr>
						<tr>
							<th>パラメータ</th>
							<td>
								None
							</td>
						</tr>
						<tr>
							<th>返り値</th>
							<td>論理型。ゲストログインがサポートされていれば <strong>true</strong> を、そうでなければ <strong>false</strong> を返す。</td>
						</tr>
						<tr>
							<th>例</th>
							<td>
								<pre class="php"><code>// redirect to login if we we require a user and no guest access is enabled
if ( ! Auth::check() and ! Auth::guest_login())
{
	Response::redirect('/login');
}
</code></pre>
							</td>
						</tr>
						</tbody>
					</table>
				</article>

				<article>
					<h4 id="method_remember_me" class="method">remember_me($user_id = null)</h4>
					<p>The <strong>remember_me</strong> method allows you to set a remember_me cookie. If $user_id is not given, the current logged-in user is used.</p>
					<table class="method">
						<tbody>
						<tr>
							<th class="legend">Static</th>
							<td>Yes</td>
						</tr>
						<tr>
							<th>Parameters</th>
							<td>
								<table class="parameters">
									<tr>
										<th>Param</th>
										<th>Default</th>
										<th class="description">Description</th>
									</tr>
									<tr>
										<th><kbd>$user_id</kbd></th>
										<td><pre class="php"><code>null</code></pre></td>
										<td>The id of the user to be remembered</td>
									</tr>
								</table>
							</td>
						</tr>
						<tr>
							<th>Returns</th>
							<td>
								boolean. returns <strong>true</strong> if the remember me cookie was correctly set, or <strong>false</strong>
								if there was no user_id present, or the remember_me functionality was disabled in the configuration.
							</td>
						</tr>
						<tr>
							<th>Example</th>
							<td>
								<pre class="php"><code>// process the login form POST, and set the remember-me cookie if needed
if (\Input::method() == 'POST')
{
	// check the credentials.
	if (\Auth::instance()->login(\Input::param('username'), \Input::param('password')))
	{
		// does the user want to be remembered?
		if (\Input::param('rememberme', false))
		{
			// create the remember-me cookie
			\Auth::remember_me();
		}
		else
		{
			// delete the remember-me cookie if present
			\Auth::dont_remember_me();
		}

		// logged in, go the homepage
		\Response::redirect('/');
	}
	else
	{
		// login failed, show an error message
		$data['username']    = \Input::param('username');
		$data['login_error'] = \Lang::get('login.failure');
	}
}
</code></pre>
							</td>
						</tr>
						</tbody>
					</table>
				</article>

				<article>
					<h4 id="method_dont_remember_me" class="method">dont_remember_me()</h4>
					<p>The <strong>dont_remember_me</strong> method destroys the remember_me cookie, if present.</p>
					<table class="method">
						<tbody>
						<tr>
							<th class="legend">Static</th>
							<td>Yes</td>
						</tr>
						<tr>
							<th>Parameters</th>
							<td>
								None
							</td>
						</tr>
						<tr>
							<th>Example</th>
							<td>
								See <a href="#method_remember_me">remember_me()</a> for an example
							</td>
						</tr>
						</tbody>
					</table>
				</article>
		</div>

		<footer>
			<p>
				&copy; FuelPHP Development Team 2010-2013 - <a href="http://fuelphp.com">FuelPHP</a> is released under the MIT license.
[ <a href="https://github.com/fuel/docs/commits/1.7/develop/packages/auth/simpleauth/usage.html">原文コミット履歴</a> | <a href="https://github.com/NEKOGET/FuelPHP_docs_jp/commits/1.7/develop_japanese/packages/auth/simpleauth/usage.html">翻訳コミット履歴</a> | <a href="https://github.com/NEKOGET/FuelPHP_docs_jp/blob/1.7/develop_japanese/packages/auth/simpleauth/usage.html">GitHubで修正</a> ]
			</p>
		</footer>
	</div>
</body>
</html>
